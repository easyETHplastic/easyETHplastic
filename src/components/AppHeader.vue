<template>
  <div class="w-full">
    <div class="p-8 mx-auto max-w-screen-xl flex items-center justify-between">
      <div>
        <svg class="h-12" viewBox="0 0 256 54" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M92.576 36L95.552 19.2H105.944L105.488 21.624H98.192L97.376 26.304H103.952L103.544 28.656H96.968L96.08 33.576H103.4L102.968 36H92.576ZM109.222 36L111.742 21.624H106.846L107.278 19.2H120.166L119.758 21.624H114.814L112.294 36H109.222ZM118.745 36L121.721 19.2H124.793L123.545 26.208H131.105L132.329 19.2H135.401L132.425 36H129.353L130.673 28.632H123.137L121.817 36H118.745ZM134.011 41.28L137.011 24.096H139.771L139.795 25.8C140.275 25.208 140.851 24.728 141.523 24.36C142.211 23.992 143.027 23.808 143.971 23.808C144.947 23.808 145.795 24.032 146.515 24.48C147.251 24.928 147.819 25.544 148.219 26.328C148.619 27.096 148.819 27.968 148.819 28.944C148.819 29.968 148.643 30.928 148.291 31.824C147.955 32.704 147.475 33.48 146.851 34.152C146.227 34.824 145.491 35.352 144.643 35.736C143.811 36.104 142.907 36.288 141.931 36.288C141.067 36.288 140.315 36.104 139.675 35.736C139.035 35.352 138.571 34.896 138.283 34.368L137.083 41.28H134.011ZM141.787 33.6C142.523 33.6 143.179 33.424 143.755 33.072C144.347 32.704 144.811 32.208 145.147 31.584C145.483 30.96 145.651 30.256 145.651 29.472C145.651 28.624 145.395 27.92 144.883 27.36C144.371 26.784 143.675 26.496 142.795 26.496C142.043 26.496 141.371 26.68 140.779 27.048C140.203 27.416 139.747 27.92 139.411 28.56C139.075 29.2 138.907 29.92 138.907 30.72C138.907 31.552 139.171 32.24 139.699 32.784C140.227 33.328 140.923 33.6 141.787 33.6ZM149.647 36L152.719 18.72H155.791L152.719 36H149.647ZM159.17 36.288C157.826 36.288 156.842 35.984 156.218 35.376C155.594 34.752 155.282 34.008 155.282 33.144C155.282 31.864 155.818 30.848 156.89 30.096C157.962 29.344 159.394 28.968 161.186 28.968H164.21L164.258 28.68C164.274 28.584 164.282 28.488 164.282 28.392C164.298 28.28 164.306 28.184 164.306 28.104C164.306 27.496 164.114 27.048 163.73 26.76C163.346 26.456 162.858 26.304 162.266 26.304C161.642 26.304 161.066 26.456 160.538 26.76C160.026 27.048 159.658 27.48 159.434 28.056H156.434C156.674 27.192 157.09 26.44 157.682 25.8C158.29 25.16 159.026 24.672 159.89 24.336C160.754 23.984 161.69 23.808 162.698 23.808C164.17 23.808 165.322 24.136 166.154 24.792C167.002 25.448 167.426 26.392 167.426 27.624C167.426 27.784 167.418 27.96 167.402 28.152C167.386 28.328 167.362 28.504 167.33 28.68L166.034 36H163.298L163.418 34.152C162.954 34.76 162.37 35.272 161.666 35.688C160.978 36.088 160.146 36.288 159.17 36.288ZM160.298 33.888C161.178 33.888 161.906 33.6 162.482 33.024C163.074 32.448 163.506 31.736 163.778 30.888H161.186C160.386 30.888 159.754 31.048 159.29 31.368C158.826 31.688 158.594 32.128 158.594 32.688C158.594 33.088 158.746 33.392 159.05 33.6C159.37 33.792 159.786 33.888 160.298 33.888ZM173.263 36.288C172.175 36.288 171.247 36.104 170.479 35.736C169.727 35.368 169.159 34.864 168.775 34.224C168.391 33.584 168.231 32.856 168.295 32.04H171.367C171.351 32.6 171.535 33.056 171.919 33.408C172.303 33.76 172.879 33.936 173.647 33.936C174.319 33.936 174.839 33.792 175.207 33.504C175.591 33.216 175.783 32.848 175.783 32.4C175.783 32 175.583 31.712 175.183 31.536C174.783 31.344 174.271 31.176 173.647 31.032C172.991 30.872 172.351 30.664 171.727 30.408C171.103 30.152 170.583 29.816 170.167 29.4C169.767 28.984 169.567 28.448 169.567 27.792C169.567 27.024 169.791 26.344 170.239 25.752C170.703 25.144 171.335 24.672 172.135 24.336C172.935 23.984 173.855 23.808 174.895 23.808C176.303 23.808 177.415 24.144 178.231 24.816C179.047 25.488 179.439 26.4 179.407 27.552H176.455C176.439 27.136 176.255 26.8 175.903 26.544C175.567 26.288 175.119 26.16 174.559 26.16C173.983 26.16 173.511 26.288 173.143 26.544C172.791 26.784 172.615 27.088 172.615 27.456C172.615 27.808 172.823 28.08 173.239 28.272C173.671 28.448 174.231 28.616 174.919 28.776C175.671 28.952 176.343 29.168 176.935 29.424C177.543 29.68 178.023 30.016 178.375 30.432C178.743 30.832 178.927 31.36 178.927 32.016C178.927 32.88 178.679 33.632 178.183 34.272C177.687 34.912 177.007 35.408 176.143 35.76C175.295 36.112 174.335 36.288 173.263 36.288ZM185.06 36C183.972 36 183.1 35.776 182.444 35.328C181.804 34.88 181.484 34.104 181.484 33C181.484 32.648 181.524 32.256 181.604 31.824L182.516 26.664H180.596L181.052 24.096H182.972L183.884 20.904H186.62L186.044 24.096H189.284L188.804 26.664H185.612L184.676 31.848C184.644 32.008 184.628 32.168 184.628 32.328C184.628 32.712 184.732 32.984 184.94 33.144C185.164 33.304 185.524 33.384 186.02 33.384H187.652L187.172 36H185.06ZM193.535 22.32C192.975 22.32 192.511 22.152 192.143 21.816C191.791 21.464 191.615 21.032 191.615 20.52C191.615 20.008 191.791 19.584 192.143 19.248C192.511 18.896 192.975 18.72 193.535 18.72C194.095 18.72 194.551 18.896 194.903 19.248C195.271 19.584 195.455 20.008 195.455 20.52C195.455 21.032 195.271 21.464 194.903 21.816C194.551 22.152 194.095 22.32 193.535 22.32ZM189.263 36L191.351 24.096H194.423L192.335 36H189.263ZM200.628 36.288C199.572 36.288 198.652 36.08 197.868 35.664C197.084 35.232 196.476 34.632 196.044 33.864C195.628 33.096 195.42 32.2 195.42 31.176C195.42 30.152 195.604 29.192 195.972 28.296C196.34 27.4 196.86 26.616 197.532 25.944C198.204 25.272 198.988 24.752 199.884 24.384C200.78 24 201.756 23.808 202.812 23.808C204.348 23.808 205.572 24.216 206.484 25.032C207.412 25.848 207.876 26.976 207.876 28.416H204.636C204.636 27.776 204.42 27.288 203.988 26.952C203.556 26.6 203.012 26.424 202.356 26.424C201.668 26.424 201.036 26.624 200.46 27.024C199.884 27.408 199.428 27.936 199.092 28.608C198.756 29.28 198.588 30.04 198.588 30.888C198.588 31.736 198.82 32.416 199.284 32.928C199.748 33.424 200.348 33.672 201.084 33.672C201.74 33.672 202.34 33.504 202.884 33.168C203.444 32.816 203.844 32.32 204.084 31.68H207.3C206.964 32.608 206.468 33.416 205.812 34.104C205.156 34.792 204.38 35.328 203.484 35.712C202.604 36.096 201.652 36.288 200.628 36.288Z"
            fill="white"
          ></path>
          <path
            d="M67.3388 18.7584C68.3939 18.2767 69.6061 18.2767 70.6612 18.7584L84.0294 24.8612C87.1478 26.2849 87.1478 30.7151 84.0294 32.1388L70.6612 38.2416C69.6061 38.7233 68.3939 38.7233 67.3388 38.2416L53.9706 32.1388C50.8522 30.7151 50.8522 26.2849 53.9706 24.8612L67.3388 18.7584Z"
            fill="#D9D9D9"
          ></path>
        </svg>
      </div>
      <button
        class="rounded-full bg-zinc-800 p-3 w-64 text-center hover:shadow-xl hover:text-indigo-300 flex items-center justify-evenly"
        @click="connectMetamaskClick"
      >
        <svg
          class="h-10 bg-white rounded-full p-2"
          xmlns="http://www.w3.org/2000/svg"
          xml:space="preserve"
          id="Layer_1"
          x="0"
          y="0"
          version="1.1"
          viewBox="0 0 318.6 318.6"
        >
          <path
            fill="#e2761b"
            stroke="#e2761b"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m274.1 35.5-99.5 73.9L193 65.8z"
          ></path>
          <path
            d="m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z"
            class="st1"
          ></path>
          <path
            d="m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z"
            class="st1"
          ></path>
          <path
            fill="#d7c1b3"
            stroke="#d7c1b3"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"
          ></path>
          <path
            fill="#233447"
            stroke="#233447"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"
          ></path>
          <path
            fill="#cd6116"
            stroke="#cd6116"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"
          ></path>
          <path
            fill="#e4751f"
            stroke="#e4751f"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"
          ></path>
          <path
            d="m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z"
            class="st6"
          ></path>
          <path
            fill="#c0ad9e"
            stroke="#c0ad9e"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"
          ></path>
          <path
            fill="#161616"
            stroke="#161616"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"
          ></path>
          <path
            fill="#763d16"
            stroke="#763d16"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"
          ></path>
          <path
            d="m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z"
            class="st6"
          ></path>
        </svg> connect metamask
      </button>
    </div>
  </div>
</template>

<script>
import { ethers } from "ethers";

export default {
  methods: {
    connectMetamaskClick(event) {
      // FIXME: This assumes that you're serving the snap from the snap/ subdir at port 8080 via yarn serve.
      ethereum.request({
        method: 'wallet_enable',
        params: [{
          wallet_snap: { ['local:https://localhost:8080']: {} },
        }]
      })

      // FIXME: Just testing the snap template:
      ethereum.request({
        method: 'wallet_invokeSnap',
        params: ['local:https://localhost:8080', {
          method: 'hello'
        }]
      })
    }
  }
};
</script>

<style>
</style>
